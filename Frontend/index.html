<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Radar Microservices Dashboard</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="libs/cesium/Widgets/widgets.css" />
  <script src="libs/chart.js"></script>
  <script src="libs/jspdf.umd.min.js"></script>
  <script src="libs/cesium/Cesium.js"></script>
  <script src="script.js" defer></script>
</head>

<body>
<div class="app-container">
  <header class="header">
    <h1>Radar Microservices Dashboard</h1>
    <nav class="nav-menu">
      <a href="#home">Home</a>
      <a href="#setup">Microservice Setup</a>
      <a href="#results">Results Analysis</a>
      <a href="#settings">Settings</a>
      <a href="#help">Help & Documentation</a>
    </nav>
  </header>

      <aside class="sidebar">
      <h2>Microservice Inputs</h2>

      <!-- Service selector -->
      <label>Select Microservice:
        <select id="service-select">
          <option value="absorption-loss" selected>Absorption Loss</option>
          <option value="ecm-model">ECM Model</option>
          <option value="radar-model">Radar Model</option>
        </select>
      </label>

      <!-- ========== Absorption Loss Fields ========== -->
      <div id="form-absorption-loss" class="service-form">
        <button id="add-weather-btn" type="button">+ Add Weather Condition</button>
        <div id="weather-container"></div>

        <label>Rainfall Rate (RFR mm/hr):
          <input id="rfr" type="number" value="10">
        </label>
        <label>Snowfall Rate (SFR mm/hr):
          <input id="sfr" type="number" value="5">
        </label>
        <label>Visibility Fog (m):
          <input id="visFog" type="number" value="3">
        </label>

        <label>Radar Frequency (Freq_r GHz):
          <input id="freqR" type="number" value="1.2e9">
        </label>
        <label>Jammer Frequency (Freq_j GHz):
          <input id="freqJ" type="number" value="1e9">
        </label>
        <label>Operating Frequency (Freq_op GHz):
          <input id="freqOp" type="number" value="1.2e9">
        </label>

        <label>Radar Latitude:
          <input id="latR" type="number" value="34.2">
        </label>
        <label>Radar Longitude:
          <input id="longR" type="number" value="69.2">
        </label>
        <label>Radar Height (m):
          <input id="heightR" type="number" value="500">
        </label>

        <label>Target Latitude:
          <input id="latT" type="number" value="34.1">
        </label>
        <label>Target Longitude:
          <input id="longT" type="number" value="69.1">
        </label>
        <label>Target Height (m):
          <input id="heightT" type="number" value="2000">
        </label>

        <label>Jammer Latitude:
          <input id="latJ" type="number" value="34.1">
        </label>
        <label>Jammer Longitude:
          <input id="longJ" type="number" value="69.1">
        </label>
        <label>Jammer Height (m):
          <input id="heightJ" type="number" value="2000">
        </label>

      </div>

      <!-- ========== ECM Model Fields ========== -->
<div id="form-ecm-model" class="service-form">
  <label>Jammer Power (P_j W):
    <input id="pJ" type="number" value="100">
  </label>
  <label>Jammer Gain (G_j dB):
    <input id="gJ" type="number" value="20">
  </label>
  <label>Jammer Loss (L_j dB):
    <input id="lJ" type="number" value="10">
  </label>
  <label>Azimuth (Azimuth_j):
    <input id="azimuthJ" type="number" value="35">
  </label>
  <label>Elevation (Elevation_j):
    <input id="elevationJ" type="number" value="24">
  </label>
  <label>Beamwidth Azimuth:
    <input id="beamwidthAzJ" type="number" value="25">
  </label>
  <label>Beamwidth Elevation:
    <input id="beamwidthElJ" type="number" value="25">
  </label>
  <label>Jammer Bandwidth (B_j Hz):
    <input id="bJ" type="number" value="500e6">
  </label>
  <label>Jammer Frequency (Freq_j GHz):
    <input id="freqJ" type="number" value="1">
  </label>
  <label>Jammer Latitude:
    <input id="latJ" type="number" value="34.1">
  </label>
  <label>Jammer Longitude:
    <input id="longJ" type="number" value="69.1">
  </label>
  <label>Jammer Height (m):
    <input id="heightJ" type="number" value="2000">
  </label>
  <label>Jammer Type:
    <select id="jammerType">
      <option>Responsive</option>
      <option>Non-Responsive</option>
    </select>
  </label>
  <label id="jammerSubWrapper">
    Sub Option:
    <select id="jammerSubType">
      <option>Self - protection</option>
      <option>Escort (non stationary standoff)</option>
      <option>Stationary stand off</option>
    </select>
  </label>
  <label>Antenna Type:
    <select id="antennaType">
      <option>Gain Pattern</option>
      <option>Measured gain</option>
      <option>User Defined Constant Gain</option>
    </select>
  </label>
  <label id="antennaSubWrapper" style="display:none;">
    Sub Option:
    <select id="antennaSubType">
      <option>Omnidirectional</option>
      <option>Uniform</option>
      <option>Cosine</option>
      <option>Taylor's Beam</option>
      <option>Consecant Sequare beam</option>
      <option>Fan Beam</option>
      <option>Gaussian</option>
      <option>Parabolic</option>
      <option>Electronically Scanned Array</option>
    </select>
  </label>
  <label>Radar Latitude:
    <input id="latR" type="number" value="34.2">
  </label>
  <label>Radar Longitude:
    <input id="longR" type="number" value="69.2">
  </label>
  <label>Radar Height (m):
    <input id="heightR" type="number" value="500">
  </label>
  <label>Radar Bandwidth (B_r Hz):
    <input id="bR" type="number" value="200e6">
  </label>
  <label>Radar Frequency (Freq_r GHz):
    <input id="freqR" type="number" value="1.2">
  </label>
</div>


      <!-- ========== Radar Model Fields ========== -->
      <div id="form-radar-model" class="service-form">
        <label>Radar Gain (G_r dB):
          <input id="gr" type="number" value="8.3">
        </label>
        <label>Radar Loss (L_o dB):
          <input id="lo" type="number" value="3.7">
        </label>
        <label>Polarization_R:
          <select id="polarizationR">
            <option>Linear Horizontal</option>
            <option>Linear Vertical</option>
            <option>RCP</option>
            <option>LCP</option>
          </select>
        </label>
        <label>Polarization_J:
          <select id="polarizationJ">
            <option>Linear 45</option>
            <option>RCP</option>
            <option>LCP</option>
          </select>
        </label>
          <label>Antenna Type:
          <select id="antennaType">
            <option>Gain Pattern</option>
            <option>Measured gain</option>
            <option>User Defined Constant Gain</option>
          </select>
        </label>
        <label id="antennaSubWrapper" style="display:none;">
          Sub Option:
          <select id="antennaSubType">
            <option>Omnidirectional</option><option>Uniform</option><option>Cosine</option>
            <option>Taylor's Beam</option><option>Consecant Sequare beam</option><option>Fan Beam</option>
            <option>Gaussian</option><option>Parabolic</option><option>Electronically Scanned Array</option>
          </select>
        </label>
        <label>Radar Frequency (Freq_r GHz):
          <input id="freqR_radar" type="number" value="12.4e9">
        </label>
        <label>Radar Power (P_r W):
          <input id="pr_radar" type="number" value="15200000">
        </label>
        <label>Radar Bandwidth (B_r Hz):
          <input id="br_radar" type="number" value="56.7e6">
        </label>
        <label>Noise Figure (F_r dB):
          <input id="fr_radar" type="number" value="6.2">
        </label>
        <label>Boltzmann Constant (k):
          <input id="k_radar" type="number" value="1.38e-23">
        </label>
        <label>System Temperature (T K):
          <input id="t_radar" type="number" value="290">
        </label>
        <label>Bandwidth Elevation:
          <input id="BMWEl_R_radar" type="number" value="-32">
        </label>
        <label>Bandwidth Azimuth:
          <input id="BMWAz_R_radar" type="number" value="67">
        </label>
        <label>Elevation Limit:
          <input id="elLimit_radar" type="number" value="65">
        </label>
        <label>Target Latitude:
          <input id="latT_radar" type="number" value="22.4">
        </label>
        <label>Target Longitude:
          <input id="longT_radar" type="number" value="88.3">
        </label>
        <label>Target Height (m):
          <input id="heightT_radar" type="number" value="150">
        </label>
        <label>False Alarm Prob (pfa):
          <input id="pfa_radar" type="number" value="1.2e-6">
        </label>

      </div>

      <button class="run-btn">Run Microservice</button>
    </aside>

  <main class="main">
    <section class="map-container">
      <h2>3D Radar Visualization</h2>
      <div id="map3D" class="map-placeholder"></div>
    </section>
    <section class="chart-section">
      <h2>Microservice Output</h2>
      <div class="charts-placeholder"></div>
    </section>
  </main>

  <aside class="output-panel">
    <h2>Simulation Summary</h2>
    <p id="summaryText">[Select a microservice to view output]</p>
    <h3>Export Options</h3>
    <button onclick="exportToPDF()">Export PDF</button>
    <button onclick="exportToCSV()">Export CSV</button>
    <h3>Log Messages</h3>
    <div class="log-box"></div>
  </aside>

  <footer class="footer">
    <div class="status">
      <p>Status: Idle</p>
      <progress value="0" max="100"></progress>
    </div>
    <div>
      <a href="#support">Support</a> | <a href="#contact">Contact</a>
    </div>
  </footer>
</div>
</body>
</html>
